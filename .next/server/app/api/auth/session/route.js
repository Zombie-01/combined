"use strict";(()=>{var e={};e.id=7603,e.ids=[7603],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},1508:(e,t,s)=>{s.r(t),s.d(t,{headerHooks:()=>h,originalPathname:()=>g,requestAsyncStorage:()=>d,routeModule:()=>p,serverHooks:()=>c,staticGenerationAsyncStorage:()=>f,staticGenerationBailout:()=>m});var r={};s.r(r),s.d(r,{GET:()=>u}),s(5655);var n=s(3323),i=s(4647),o=s(6886),l=s(3935);async function u(e){try{let t=e.headers.get("cookie"),s=function(e,t){if(!e)return null;let s=e.split(";").map(e=>e.trim());for(let e of s)if(e.startsWith(t+"="))return decodeURIComponent(e.split("=")[1]||"");return null}(t,"sb-access-token");if(s){let{data:e,error:t}=await l.p.auth.getUser(s);if(t)return o.Z.json({session:null,profile:null});let r=e?.user??null;if(!r)return o.Z.json({session:null,profile:null});let{data:n}=await l.p.from("users").select("*").eq("id",r.id).single();return o.Z.json({session:{user:r},profile:n??null})}let r=e.headers.get("authorization")||"";if(r.startsWith("Bearer ")){let e=r.replace("Bearer ",""),{data:t,error:s}=await l.p.auth.getUser(e);if(s)return o.Z.json({session:null,profile:null});let n=t?.user??null;if(!n)return o.Z.json({session:null,profile:null});let{data:i}=await l.p.from("users").select("*").eq("id",n.id).single();return o.Z.json({session:{user:n},profile:i??null})}return o.Z.json({session:null,profile:null})}catch(e){return o.Z.json({session:null,profile:null})}}let a=n.AppRouteRouteModule,p=new a({definition:{kind:i.x.APP_ROUTE,page:"/api/auth/session/route",pathname:"/api/auth/session",filename:"route",bundlePath:"app/api/auth/session/route"},resolvedPagePath:"D:\\project\\app\\api\\auth\\session\\route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:d,staticGenerationAsyncStorage:f,serverHooks:c,headerHooks:h,staticGenerationBailout:m}=p,g="/api/auth/session/route"}};var t=require("../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[4871,4856,3935],()=>s(1508));module.exports=r})();