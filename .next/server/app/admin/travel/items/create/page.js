(()=>{var e={};e.id=7245,e.ids=[7245],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},1790:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page-experimental.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},192:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>l.a,__next_app__:()=>p,originalPathname:()=>m,pages:()=>u,routeModule:()=>x,tree:()=>c});var a=r(3137),i=r(4647),s=r(4183),l=r.n(s),n=r(1775),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);r.d(t,o);let d=a.AppPageRouteModule,c=["",{children:["admin",{children:["travel",{children:["items",{children:["create",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,8499)),"D:\\project\\app\\admin\\travel\\items\\create\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,6441)),"D:\\project\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,6781)),"D:\\project\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,1918,23)),"next/dist/client/components/not-found-error"]}],u=["D:\\project\\app\\admin\\travel\\items\\create\\page.tsx"],m="/admin/travel/items/create/page",p={require:r,loadChunk:()=>Promise.resolve()},x=new d({definition:{kind:i.x.APP_PAGE,page:"/admin/travel/items/create/page",pathname:"/admin/travel/items/create",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},8778:(e,t,r)=>{Promise.resolve().then(r.bind(r,9554))},9554:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var a=r(80),i=r(9885),s=r(7114),l=r(7052),n=r(9424),o=r(8384),d=r(3524),c=r(6466),u=r(9941);function m(){let e=(0,s.useRouter)(),[t,r]=(0,i.useState)(""),[m,p]=(0,i.useState)(""),[x,g]=(0,i.useState)(""),[h,b]=(0,i.useState)(""),[v,f]=(0,i.useState)(""),[j,y]=(0,i.useState)(""),[C,P]=(0,i.useState)(""),[q,N]=(0,i.useState)([]),[w,_]=(0,i.useState)(!1),[k,I]=(0,i.useState)(null);(0,i.useEffect)(()=>{let e=async()=>{try{let e=await fetch("/api/travel/categories");if(e.ok){let t=await e.json();N(t.data||[])}}catch(e){}};e()},[]);let S=async r=>{r.preventDefault(),I(null),_(!0);try{if(!t.trim()){I("Title is required"),u.Am.error("Title is required"),_(!1);return}if(!C){I("Category is required"),u.Am.error("Category is required"),_(!1);return}if(!j.trim()){I("Item image is required"),u.Am.error("Item image is required"),_(!1);return}let r=await fetch("/api/travel/items",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:t,description:m,location:x,country:h,price:v?parseFloat(v):0,image_url:j,category_id:C})});if(!r.ok){let e=await r.json(),t=e.error||"Failed to create travel item";I(t),u.Am.error(t),_(!1);return}try{let e=await r.json().catch(()=>null);e?.warning&&(0,u.Am)("Warning: "+e.warning)}catch{}u.Am.success("Travel item created"),e.push("/admin/travel/items")}catch(t){let e="An error occurred while creating the travel item";I(e),u.Am.error(e),_(!1)}};return(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Create Travel Item"}),(0,a.jsxs)(l.Zb,{children:[a.jsx(l.Ol,{children:a.jsx(l.ll,{children:"New Travel Item"})}),a.jsx(l.aY,{children:a.jsx("form",{onSubmit:S,children:(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Title *"}),a.jsx(n.I,{value:t,onChange:e=>r(e.target.value),placeholder:"Item title",disabled:w,required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Category *"}),(0,a.jsxs)("select",{value:C,onChange:e=>P(e.target.value),disabled:w,className:"w-full rounded border border-gray-300 px-3 py-2 focus:border-blue-600 focus:outline-none focus:ring-1 focus:ring-blue-600 disabled:bg-gray-100",required:!0,children:[a.jsx("option",{value:"",children:"Select a category"}),q.map(e=>a.jsx("option",{value:e.id,children:e.name},e.id))]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description"}),a.jsx(c.g,{value:m,onChange:e=>p(e.target.value),placeholder:"Item description",disabled:w,rows:4})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Location"}),a.jsx(n.I,{value:x,onChange:e=>g(e.target.value),placeholder:"City, region, or area",disabled:w})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Country"}),a.jsx(n.I,{value:h,onChange:e=>b(e.target.value),placeholder:"Country name",disabled:w})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Price"}),a.jsx(n.I,{value:v,onChange:e=>f(e.target.value),placeholder:"Price in currency",type:"number",step:"0.01",min:"0",disabled:w})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium mb-2",children:"Item Image *"}),a.jsx(d.U,{value:j,onChange:y,bucket:"images",onError:I})]}),k&&a.jsx("div",{className:"rounded-md bg-red-50 p-3 text-sm text-red-700",children:k}),(0,a.jsxs)("div",{className:"flex gap-2",children:[a.jsx(o.z,{type:"submit",disabled:w,className:"bg-blue-600 hover:bg-blue-700",children:w?"Creating...":"Create Item"}),a.jsx(o.z,{type:"button",variant:"outline",disabled:w,onClick:()=>e.push("/admin/travel/items"),children:"Cancel"})]})]})})})]})]})}},9424:(e,t,r)=>{"use strict";r.d(t,{I:()=>l});var a=r(80),i=r(9885),s=r(3161);let l=i.forwardRef(({className:e,type:t,...r},i)=>a.jsx("input",{type:t,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:i,...r}));l.displayName="Input"},8499:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>d});var a=r(8144);r(3830);var i=r(7536);let s=(0,i.createProxy)(String.raw`D:\project\components\admin\travel-item-form.tsx`),{__esModule:l,$$typeof:n}=s,o=s.default;function d(){return a.jsx(o,{})}}};var t=require("../../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[3466,1440,6080,648,2501,8384,5734,8193,378],()=>r(192));module.exports=a})();