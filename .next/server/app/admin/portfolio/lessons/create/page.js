(()=>{var e={};e.id=5675,e.ids=[5675],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},1790:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page-experimental.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},4230:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>p,pages:()=>u,routeModule:()=>x,tree:()=>c});var r=s(3137),n=s(4647),o=s(4183),i=s.n(o),a=s(1775),l={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>a[e]);s.d(t,l);let d=r.AppPageRouteModule,c=["",{children:["admin",{children:["portfolio",{children:["lessons",{children:["create",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,9354)),"D:\\project\\app\\admin\\portfolio\\lessons\\create\\page.tsx"]}]},{}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,6441)),"D:\\project\\app\\admin\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,6781)),"D:\\project\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,1918,23)),"next/dist/client/components/not-found-error"]}],u=["D:\\project\\app\\admin\\portfolio\\lessons\\create\\page.tsx"],p="/admin/portfolio/lessons/create/page",m={require:s,loadChunk:()=>Promise.resolve()},x=new d({definition:{kind:n.x.APP_PAGE,page:"/admin/portfolio/lessons/create/page",pathname:"/admin/portfolio/lessons/create",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},5065:(e,t,s)=>{Promise.resolve().then(s.bind(s,5911))},5911:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var r=s(80),n=s(9885),o=s(7114),i=s(7052),a=s(9424),l=s(8384),d=s(3524),c=s(9941),u=s(6466);function p(){let e=(0,o.useRouter)(),[t,s]=(0,n.useState)(""),[p,m]=(0,n.useState)(""),[x,h]=(0,n.useState)(""),[f,g]=(0,n.useState)(""),[b,j]=(0,n.useState)(!1),[v,y]=(0,n.useState)(null),P=async s=>{s.preventDefault(),y(null),j(!0);try{if(!t.trim()){y("Title is required"),c.Am.error("Title is required"),j(!1);return}let s=await fetch("/api/portfolio/lessons",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:t,description:p,image_url:x,video_url:f})});if(!s.ok){let e=await s.json(),t=e.error||"Failed to create lesson";y(t),c.Am.error(t),j(!1);return}try{let e=await s.json().catch(()=>null);e?.warning&&(0,c.Am)("Warning: "+e.warning)}catch{}c.Am.success("Lesson created"),e.push("/admin/portfolio/lessons")}catch(t){let e="An error occurred while creating the lesson";y(e),c.Am.error(e),j(!1)}};return(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Create Lesson"}),(0,r.jsxs)(i.Zb,{children:[r.jsx(i.Ol,{children:r.jsx(i.ll,{children:"New Lesson"})}),r.jsx(i.aY,{children:r.jsx("form",{onSubmit:P,children:(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Title *"}),r.jsx(a.I,{value:t,onChange:e=>s(e.target.value),placeholder:"Lesson title",disabled:b,required:!0})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description"}),r.jsx(u.g,{value:p,onChange:e=>m(e.target.value),placeholder:"Lesson description",disabled:b,rows:4})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Lesson Image"}),r.jsx(d.U,{value:x,onChange:h,bucket:"images",onError:y})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:"Video URL"}),r.jsx(a.I,{value:f,onChange:e=>g(e.target.value),placeholder:"https://youtube.com/embed/...",disabled:b})]}),v&&r.jsx("div",{className:"rounded-md bg-red-50 p-3 text-sm text-red-700",children:v}),(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx(l.z,{type:"submit",disabled:b,className:"bg-blue-600 hover:bg-blue-700",children:b?"Creating...":"Create Lesson"}),r.jsx(l.z,{type:"button",variant:"outline",disabled:b,onClick:()=>e.push("/admin/portfolio/lessons"),children:"Cancel"})]})]})})})]})]})}},9424:(e,t,s)=>{"use strict";s.d(t,{I:()=>i});var r=s(80),n=s(9885),o=s(3161);let i=n.forwardRef(({className:e,type:t,...s},n)=>r.jsx("input",{type:t,className:(0,o.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...s}));i.displayName="Input"},9354:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var r=s(8144);s(3830);var n=s(7536);let o=(0,n.createProxy)(String.raw`D:\project\components\admin\lesson-form.tsx`),{__esModule:i,$$typeof:a}=o,l=o.default;function d(){return r.jsx(l,{})}}};var t=require("../../../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[3466,1440,6080,648,2501,8384,5734,8193,378],()=>s(4230));module.exports=r})();